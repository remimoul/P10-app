type User {
  id: ID!
  clerkId: String!
  avatar: Avatar
  leagues: [League]
}

type League {
  id: ID!
  name: String!
  admin: User!
  private: Boolean!
  joinCode: String!
  avatar: Avatar
  members: [User]
}

type Avatar {
  id: ID!
  picture: String!
}

type Pilot {
  id: ID!
  name: String!
  picture: String
  acronym: String
  currentTeam: Team
  teamHistory: [PilotTeam]
}

type Team {
  id: ID!
  name: String!
  logo: String
  color: String
  pilots: [PilotTeam]
}

type PilotTeam {
  id: ID!
  pilot: Pilot!
  team: Team!
  year: String!
}

type GrandPrix {
  id: ID!
  season: String!
  date: String!
  time: String!
  track: Track!
  pilots: [Pilot]
  ranking: [GrandPrixRanking]
}

type Track {
  id: ID!
  countryName: String!
  trackName: String!
  pictureCountry: String
  pictureTrack: String
}

type GrandPrixRanking {
  id: ID!
  grandPrix: GrandPrix!
  pilot: Pilot!
  isDNF: Boolean!
  position: Int!
}

type Bet {
  id: ID!
  user: User!
  grandPrix: GrandPrix!
  pilotP10: Pilot!
  pointsP10: Int
}

type Query {
  getUsers: [User!]!
  getUser(id: ID!): User

  getPublicLeagues: [League!]!
  getLeague(id: ID!): League

  getGrandPrix(season: String): [GrandPrix!]!
  getGrandPrixById(id: ID!): GrandPrix

  getPilots: [Pilot!]!
  getPilot(id: ID!): Pilot

  getTeams: [Team!]!
  getTeam(id: ID!): Team

  getTracks: [Track!]!
  getTrack(id: ID!): Track

  getBetsByUser(userId: ID!): [Bet!]!
  getBetsByLeague(leagueId: ID!): [Bet!]!
}

type Mutation {
  createUser(clerkId: String!, avatarId: ID): User!
  updateUser(id: ID!, avatarId: ID): User!
  deleteUser(id: ID!): User!

  createLeague(
    name: String!
    private: Boolean!
    creatorId: ID!
    avatarId: ID
  ): League!
  updateLeague(
    id: ID!
    name: String
    private: Boolean
    leagueAdmin: ID
    avatarId: ID
  ): League!
  joinLeague(userId: ID!, leagueId: ID!, joinCode: String): League!
  leaveLeague(userId: ID!, leagueId: ID!): League!

  placeBet(userId: ID!, gpId: ID!, piloteP10Id: ID!): Bet!
  updateBet(betId: ID!, piloteP10Id: ID): Bet!
}
